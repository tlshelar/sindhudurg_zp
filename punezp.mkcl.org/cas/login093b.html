




<html>

<!-- Mirrored from punezp.mkcl.org/cas/login?service=https%3A%2F%2Fpunezp.mkcl.org%2FzillaParishad%2Fcommon%2Fhome by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 29 Aug 2021 07:17:52 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="_csrf" content="" />
<meta name="_csrf_header" content="" />
















<title>लॉगीनपृष्ठ</title>
<link rel="stylesheet" type="text/css"
	href='resources/new-theme/fonts/feather-icons/feather.css' />
<link rel="stylesheet" type="text/css"
	href='resources/new-theme/fonts/material-icons/material-icons.css' />
<link rel="stylesheet" type="text/css"
	href='resources/new-theme/fonts/mono-social-icons/monosocialiconsfont.css' />
<link rel="stylesheet" type="text/css"
	href='resources/new-theme/css/style.css' />
<script type="text/javascript"
	src="resources/new-theme/js/jquery.min.js"></script>
<script type="text/javascript"
	src="resources/new-theme/js/popper.min.js"></script>
<script type="text/javascript"
	src="resources/new-theme/js/bootstrap.min.js"></script>
<style type="text/css">
.error {
	color: red;
}

.modal-backdrop {
	position: absolute;
}

.otp-btn {
	padding: 8px 1.2em;
}

.green {
	color: green;
}
</style>


<link rel="icon"
	href="resources/new-theme/images/logo-mahalabharthi.jpg"
	type="image/ico">
<!--[if IE 7]>
<style type="text/css">
.box-login-body .input-prepend .add-on {margin-top:1px}
.box-login-body .btn {margin-left:-1px}
</style>
<![endif]-->

<!-- replace above both file -->
</head>
<body class="body-bg-full profile-page"
	style="background-image: https://punezp.mkcl.org/cas/resources//new-theme/images/site-bg.jpg">
	
	<div id="wrapper" class="row wrapper">
		<div
			class="container-min-full-height d-flex justify-content-center align-items-center">
			<div class="login-center">
				<div class="navbar-header text-center mt-2 mb-4">
					<a href="#"> 
						<img alt="Pune ZP"
						src="resources/new-theme/images/logo-pune-zp.png"
						class="login-logo">
					</a>
					<a href="#"> 
						<img alt="Pune ZP Maha Labharthi"
						src="resources/new-theme/images/logo-mahalabharthi.jpg"
						class="login-logo">
					</a>
					<h3 class="logo-text">
						पुणे जिल्हा परिषद, पुणे
					</h3>
				</div>

				<!-- /.navbar-header -->
				<form id="loginform" action="https://punezp.mkcl.org/cas/login" method="POST" onsubmit="return validateForm(this);" autocomplete="off">
					
					
					<input type="hidden" name="service" value="login093b.html">
					<div class="form-group">
						<label>आधार क्रमांक</label>
						
						<!-- <div class="input-prepend"> -->
						<!-- <span class="add-on"><i class="icon-user icon-grey"></i></span> -->
						<input id="username" name="loginId" type="hidden" value=""/>
						<div class="row form-group">
						<div class="col-4">
						<input type="password" class="form-control form-control-line"
							maxlength="4" required="required"
							autofocus="autofocus" id="input1" />
						</div>
						<div class="col-4">	
						<input type="password" class="form-control form-control-line"
							maxlength="4" required="required" id="input2"
							/>
						</div>
						<div class="col-4">	
						<input type="text" class="form-control form-control-line"
							maxlength="4" required="required" id="input3"
							/>
						</div>			
						</div>
						
					</div>

					
					<input id="passwordField" name="password" type="hidden" value=""/>
					<input id="loginTypePassword" name="loginTypePassword" type="hidden" value="false"/>

					<div class="form-group" id="loginTypeOTPDiv" style="display: none">
						<label>ओटीपी टाका</label>
						<div class="row">
							<div class="col-lg-8">
								<input type="text" size="4" onkeypress='validate(event)'
									class="form-control form-control-line" placeholder="Enter OTP"
									id="inputOtp" autocomplete=off maxlength="4" />
							</div>
							<div class="col-lg-4">
								<button type="button"
									class="btn btn-success text-uppercase btn-block otp-btn"
									id="resendOTPBtn">
									<span id="sendOTPMsg"> ओटीपी पुन्हा पाठवा
									</span>
								</button>
							</div>
						</div>
						<div class="green" id="otpTimerDiv" style="display: none">
							<i>ओटीपी वैध असण्याचा कालावधी आहे पुढील</i> <b><i
								id="demo">00.00s</i></b>
						</div>
					</div>
					<div class="form-group" id="sendOTPBtnDiv">
						<div class="row">
							<div class="col-lg-12">
								<button type="submit"
									class="btn btn-success text-uppercase btn-block otp-btn"
									id="sendOTPBtn">
									<span id="sendOTPMsg"> ओटीपी पाठवा
									</span>
								</button>
							</div>
						</div>
					</div>
					<!-- 	</div> -->
					<div class="form-group" id="loginbtn" style="display: none">
						<button
							class="btn btn-block btn-lg btn-primary text-uppercase fs-12 fw-600"
							type="submit" id="loginButton">
							लॉगीन
						</button>
					</div>
					







					<div class="form-group no-gutters mb-0">
						<div class="col-md-12 d-flex">
							<div
								class="checkbox checkbox-primary mr-auto mr-0-rtl ml-auto-rtl">
								<!-- <label class="d-flex"> <input type="checkbox"> <span
									class="label-text">Remember me</span>
								</label> -->
							</div>
							
							<a id="to-recover" class="my-auto pb-2 text-center"
								href="../zillaParishad/citizenRegistration/getRegistrationForm.html"><i
								class="material-icons mr-2 fs-23">account_box</i> नवीन नागरिक नोंदणी साठी इथे क्लिक करा</a>
							
						</div>
						<!-- /.col-md-12 -->
					</div>
				</form>

				<hr>
			</div>
			<!-- /.login-center -->
		</div>
		<!-- /.d-flex -->
	</div>

	<script type="text/javascript"
		src="resources/js/md5_encrypt.js">
		
	</script>
	<script type="text/javascript">
		$(document).ready(function() {
			// $("#sendOTPBtnDiv").show();
			var otpSent = false;
			$("#loginTypeOTPDiv").hide();
			if ('' == 'invalidOTPFound') {
				$("#loginTypeOTPDiv").show();
				$("#inputOtp").focus();
				$("#sendOTPBtn").remove();
				$("#loginbtn").show();
			}
			
			$(function() {
				var token = $("input[name='_csrf']").val();
				var header = "X-CSRF-TOKEN";
				$(document).ajaxSend(function(e, xhr, options) {
					xhr.setRequestHeader(header, token);
				});
			});

			$("#sendOTPBtn").click(function() {
				sendOtp()
				return false;
			});

			$("#resendOTPBtn").click(function() {
				sendOtp()
				return false;
			});
			

			/* $('#username').keypress(function(e){
			      if(e.keyCode==13)
					
			  }); */

		});


		$('#input1').on('paste' , function(e){
			var data = e.originalEvent.clipboardData.getData('Text');

			var arr = data.match(/.{1,4}/g);
			if (arr.length > 1) {
				$('#input2').val(arr[1])		
			}
			if (arr.length > 2) {
				$('#input3').val(arr[2])
			}
			$('#username').val($('#input1').val() + $('#input2').val() + $('#input3').val())
		});
		
		$("#input1").keyup(function(e){
			  if ($("#input1").val().length >= 4) {
				  $("#input2").focus();
			  }
			  $('#username').val($('#input1').val() + $('#input2').val() + $('#input3').val())
		});
		$("#input2").keyup(function(e){
			if(e.keyCode == 8 && $("#input2").val().length <= 0) {
				$("#input1").focus();
			  }
			if ($("#input2").val().length >= 4) {
				  $("#input3").focus();
			}
			$('#username').val($('#input1').val() + $('#input2').val() + $('#input3').val())
		});

		$("#input3").keyup(function(e){
			if(e.keyCode == 8 && $("#input3").val().length <= 0) {
				$("#input2").focus();
			  }
			$('#username').val($('#input1').val() + $('#input2').val() + $('#input3').val())
		});

		var countDownVariable = null;
		function sendOtp() {

			if ($('#username').val().trim() == ''
					|| $('#username').val().trim() == null) {
				alert('वापरकर्त्याचे नाव टाका');
				return false;
			}
			$('#sendOTPBtn').prop('disabled', true);
			$('#resendOTPBtn').prop('disabled', true);
			$('#loginButton').prop('disabled', true);

			$.ajax({
				url : 'https://punezp.mkcl.org/cas/loginAction/sendOTP',
				data : {
					"userName" : $('#username').val().trim()
				},
				async : true,
				type : 'POST',
				success : function(data, textStatus, xhr) {
					try {
						if (data != undefined && data != null
								&& data.status === 'success') {
							$("#loginbtn").show();
							$("#sendOTPBtnDiv").hide();
							$("#loginTypeOTPDiv").show();
							$("#inputOtp").focus();
							if (countDownVariable != null) {
								stopCountDown(countDownVariable);
							}
							countDownVariable = startCountDown();
							var text = 'आपल्या नोंदणीकृत मोबाईल क्रमांक {0} वर ओटीपी पाठवला गेला';
							text = text.replace("{0}", data.mobileNoMask);
							alert(text)
							$("#sendOTPBtn").remove()
						} else {
							if (data.message != undefined
									&& data.message != null) {
								alert(data.message)
							} else if (data.status == undefined
									&& xhr.readyState == 4
									&& xhr.responseText != undefined
									&& xhr.responseText != null) {
								alert('तुमच्या अनुउपस्तिती मुळे  तुमच्या सेशन ची वेळ संपलेली आहे. पुन्हा प्रयत्न करा.')
								location.reload();
							} else {
								alert('ओटीपी पाठवू शकलो नाही')
							}
						}
					} catch (err) {
						alert('ओटीपी पाठवू शकलो नाही')
					}
					$('#sendOTPBtn').prop('disabled', false);
					$('#resendOTPBtn').prop('disabled', false);
					$('#loginButton').prop('disabled', false);
				},
				error : function(response) {
					alert('ओटीपी पाठवू शकलो नाही')
					$('#sendOTPBtn').prop('disabled', false);
					$('#resendOTPBtn').prop('disabled', false);
					$('#loginButton').prop('disabled', false);
				}
			});

			return false;
		}
		function validateForm(form) {
			if ($('#username').val().trim() == ''
					|| $('#username').val().trim() == null) {
				alert('वापरकर्त्याचे नाव टाका');
				return false;
			}

			if ($('#inputOtp').val().trim() == ''
					|| $('#inputOtp').val().trim() == null) {
				alert('ओटीपी टाका');
				return false;
			}
			$('#passwordField').val(
					"$_$__AUTH_TYPE_OTP:" + $('#inputOtp').val().trim())
			return true;
		}

		function padZeros(str, maxLength) {
			str = str.toString();
			return str.length < maxLength ? pad("0" + str, maxLength) : str;
		}

		function validate(evt) {
			var theEvent = evt || window.event;

			if (theEvent.keyCode === 13) {
	            $("#loginform").submit();
	            if (theEvent.preventDefault)
					theEvent.preventDefault();
	            return false;
	        }

			// Handle paste
			if (theEvent.type === 'paste') {
				key = event.clipboardData.getData('text/plain');
			} else {
				// Handle key press
				var key = theEvent.keyCode || theEvent.which;
				key = String.fromCharCode(key);
			}
			var regex = /[0-9]|\./;
			if (!regex.test(key)) {
				theEvent.returnValue = false;
				if (theEvent.preventDefault)
					theEvent.preventDefault();
			}
		}

		function stopCountDown(x) {
			clearInterval(x)
		}
		function startCountDown() {
			var otpTime = '10';
			var countDownTime = parseInt(otpTime) * 60;
			$('#otpTimerDiv').show();
			var stopCountDown = false
			var x = setInterval(function() {
				countDownTime = countDownTime - 1
				var min = Math.floor(countDownTime / 60)
				var sec = Math.floor(countDownTime % 60)
				var minZero = ''
				if (min < 10) {
					minZero = '0'
				}
				var secZero = ''
				if (sec < 10) {
					secZero = '0'
				}
				if (countDownTime <= 0) {
					stopCountDown = true
				}
				if (stopCountDown) {
					clearInterval(x)
				}
				document.getElementById('demo').innerHTML = minZero + min + ':'
						+ secZero + sec + ' ' + 'मिनिटे!';
			}, 1000)
			return x;
		}
	</script>
</body>

<!-- Mirrored from punezp.mkcl.org/cas/login?service=https%3A%2F%2Fpunezp.mkcl.org%2FzillaParishad%2Fcommon%2Fhome by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 29 Aug 2021 07:17:54 GMT -->
</html>
